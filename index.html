<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script defer src="./js/app.js"></script>
    <link rel="stylesheet" href="./style/style.css">
    <title>Bingo Card</title>
</head>
<body>
    <div class="bingo-game">
        <h1>Bingo Game</h1>
        <p>
            Instructions:<br>
            - You got 15 secs to select the numbers<br>
            - You should select the right number that will appear, So you will "WIN"
        </p>
        
        <!-- Timer Display -->
        <div class="timer-section">
            <div id="timer">Press "Start New Game" to begin</div>
        </div>
        
        <!-- Game controls -->
        <div class="controls">
            <button onclick="startNewGame()" id="startBtn">Start New Game</button>
            <button onclick="callNumber()" id="callBtn">Call Number</button>
            <button onclick="resetGame()" id="resetBtn">Reset Game</button>
        </div>
        
        <!-- Current called number display -->
        <div id="current-called">Press "Start New Game" to begin</div>
        
        <!-- Bingo Card -->
        <div class="bingo-card">
            <div class="card-title">B I N G O</div>
            
            <div id="bingo-box">
                <div class="bingo-square box1" onclick="toggleSelection(this)"></div>
                <div class="bingo-square box2" onclick="toggleSelection(this)"></div>
                <div class="bingo-square box3" onclick="toggleSelection(this)"></div>
                <div class="bingo-square box4" onclick="toggleSelection(this)"></div>
                <div class="bingo-square box5" onclick="toggleSelection(this)"></div>
                <div class="bingo-square box6" onclick="toggleSelection(this)"></div>
                <div class="bingo-square box7" onclick="toggleSelection(this)"></div>
                <div class="bingo-square box8" onclick="toggleSelection(this)"></div>
                <div class="bingo-square box9" onclick="toggleSelection(this)"></div>
            </div>
        </div>
        
        <!-- Called Numbers History -->
        <div class="controls">
            <h4>Called Numbers:</h4>
            <div id="called-numbers">None yet</div>
        </div>
    </div>

    <script>
        // Toggle selection function for clicking squares
        function toggleSelection(square) {
            
            if (!gameActive) {
                alert('Please start a new game first!');
                return;
            }
            
            const number = parseInt(square.innerText);
            
            
            if (calledNumbers.includes(number)) {
                square.classList.toggle('selected');
                
                // Check for win condition 
                if (square.classList.contains('selected')) {
                    
                }
            } else {
                alert('This number hasn\'t been called yet!');
            }
        }
        
        // Reset game function
        function resetGame() {
            
            if (gameTimer) {
                clearInterval(gameTimer);
            }
            
            // Reset all game variables
            numberPool = [];
            playerCard = [];
            markedSquares = [];
            calledNumbers = [];
            gameActive = false;
            timeLeft = 15;
            
            // Clear all selections
            const squares = document.querySelectorAll('.bingo-square');
            squares.forEach(square => {
                square.classList.remove('selected', 'marked');
                square.innerText = '';
            });
            
            // Reset displays
            document.getElementById('current-called').textContent = 'Press "Start New Game" to begin';
            document.getElementById('called-numbers').textContent = 'None yet';
            document.getElementById('timer').textContent = 'Press "Start New Game" to begin';
        }
        
        
    </script>
</body>
</html>